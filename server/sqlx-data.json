{
  "db": "PostgreSQL",
  "0b4b72e7681ab5a163cc9c1866551543c26b0b5534c04023e60be0a47e22ee21": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int8"
        ]
      }
    },
    "query": "UPDATE entries SET kind = $1 WHERE id = $2"
  },
  "402176dd33fc3564bab98fe47f00c467651ab3075851998eb6d80fe25e1bc17c": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int4",
          "Int4",
          "Int8",
          "Timestamptz",
          "Bytea",
          "Int8",
          "Int8"
        ]
      }
    },
    "query": "UPDATE entries\n            SET update_number = nextval('entry_update_numbers'),\n                recorded_at = now(),\n                source_id = $1,\n                record_trigger = $2,\n                kind = $3,\n                size = $4,\n                modified_at = $5,\n                content_hash = $6,\n                unix_mode = $7\n            WHERE id = $8"
  },
  "6323a5459e04d4b858eedc033932c75f84f47a28eeaa078316094e10943b5aa3": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "entry_id",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "snapshot_id",
          "ordinal": 2,
          "type_info": "Int4"
        },
        {
          "name": "path",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "recorded_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "source_id",
          "ordinal": 5,
          "type_info": "Int4"
        },
        {
          "name": "record_trigger",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "kind",
          "ordinal": 7,
          "type_info": "Int4"
        },
        {
          "name": "size",
          "ordinal": 8,
          "type_info": "Int8"
        },
        {
          "name": "modified_at",
          "ordinal": 9,
          "type_info": "Timestamptz"
        },
        {
          "name": "content_hash",
          "ordinal": 10,
          "type_info": "Bytea"
        },
        {
          "name": "unix_mode",
          "ordinal": 11,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Text",
          "Timestamptz"
        ]
      }
    },
    "query": "SELECT * FROM entry_versions WHERE path = $1 AND recorded_at <= $2 ORDER BY recorded_at DESC LIMIT 1"
  },
  "68da5c95c3eff8f01627b88e9448f0bb925da59095884fa749bf0df6c95b4a15": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Varchar",
          "Int4",
          "Int4",
          "Int4",
          "Int8",
          "Timestamptz",
          "Bytea",
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO entry_versions (\n            recorded_at,\n            snapshot_id,\n            entry_id,\n            path,\n            source_id,\n            record_trigger,\n            kind,\n            size,\n            modified_at,\n            content_hash,\n            unix_mode\n        ) VALUES (\n            now(), NULL,\n            $1, $2, $3, $4, $5, $6, $7, $8, $9\n        ) RETURNING id"
  },
  "7cb97c634650ab97097672ca4c6afdd9df6d6048f929d440769d1c8755b4cae3": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "entry_id",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "snapshot_id",
          "ordinal": 2,
          "type_info": "Int4"
        },
        {
          "name": "path",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "recorded_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "source_id",
          "ordinal": 5,
          "type_info": "Int4"
        },
        {
          "name": "record_trigger",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "kind",
          "ordinal": 7,
          "type_info": "Int4"
        },
        {
          "name": "size",
          "ordinal": 8,
          "type_info": "Int8"
        },
        {
          "name": "modified_at",
          "ordinal": 9,
          "type_info": "Timestamptz"
        },
        {
          "name": "content_hash",
          "ordinal": 10,
          "type_info": "Bytea"
        },
        {
          "name": "unix_mode",
          "ordinal": 11,
          "type_info": "Int8"
        },
        {
          "name": "row_number",
          "ordinal": 12,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true,
        null
      ],
      "parameters": {
        "Left": [
          "Text",
          "Timestamptz"
        ]
      }
    },
    "query": "SELECT * FROM (\n            SELECT *,\n            row_number() OVER(PARTITION BY entry_id ORDER BY recorded_at DESC) AS row_number\n            FROM entry_versions\n            WHERE path LIKE $1 AND recorded_at <= $2\n        ) t WHERE row_number = 1"
  },
  "89329a72e0b4e698d0477a64c203d7e95be740cb0f0242a073f7aaab134585b1": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int8",
          "Varchar",
          "Int4",
          "Int4",
          "Int4",
          "Int8",
          "Timestamptz",
          "Bytea",
          "Int8"
        ]
      }
    },
    "query": "INSERT INTO entries (\n                update_number,\n                recorded_at,\n                parent_dir,\n                path,\n                source_id,\n                record_trigger,\n                kind,\n                size,\n                modified_at,\n                content_hash,\n                unix_mode\n            ) VALUES (\n                nextval('entry_update_numbers'), now(),\n                $1, $2, $3, $4, $5, $6, $7, $8, $9\n            ) RETURNING id"
  },
  "96f4791e4c98af9f2f4b833adc02acdac0ebf6a1a6790dff65a30f6255c4bafa": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int4"
        },
        {
          "name": "secret",
          "ordinal": 1,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT id, secret FROM sources"
  },
  "ad1e724fbcfd0087189153bf35b3eb9ea912c45f595299c961cadb4b2ec0fc6d": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "kind",
          "ordinal": 1,
          "type_info": "Int4"
        }
      ],
      "nullable": [
        false,
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT id, kind FROM entries WHERE path = $1"
  },
  "b1c22728eab441002333f835aef262e2e7606667cf0a9bcb53dca5802a6316a6": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "update_number",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "parent_dir",
          "ordinal": 2,
          "type_info": "Int8"
        },
        {
          "name": "path",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "recorded_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "source_id",
          "ordinal": 5,
          "type_info": "Int4"
        },
        {
          "name": "record_trigger",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "kind",
          "ordinal": 7,
          "type_info": "Int4"
        },
        {
          "name": "size",
          "ordinal": 8,
          "type_info": "Int8"
        },
        {
          "name": "modified_at",
          "ordinal": 9,
          "type_info": "Timestamptz"
        },
        {
          "name": "content_hash",
          "ordinal": 10,
          "type_info": "Bytea"
        },
        {
          "name": "unix_mode",
          "ordinal": 11,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT * FROM entries WHERE path = $1"
  },
  "ccc9ced9afb4d73a28809e37e53d3220da17df524cad83fb0ffa9c7a56d7b540": {
    "describe": {
      "columns": [
        {
          "name": "count",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        null
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT count(*) FROM entries\n                WHERE kind != 0 AND parent_dir = $1"
  },
  "d60cbd64cb5ba0a80494e86a551193744abc39f992dec43414a67baf38e8f1e1": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Int4",
          "Int8",
          "Varchar",
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "INSERT INTO entries (\n                    update_number,\n                    recorded_at,\n\n                    kind,\n                    parent_dir,\n                    path,\n                    source_id,\n                    record_trigger,\n\n                    size,\n                    modified_at,\n                    content_hash,\n                    unix_mode\n                ) VALUES (\n                    nextval('entry_update_numbers'),\n                    now(),\n                    $1, $2, $3, $4, $5,\n                    NULL, NULL, NULL, NULL\n                ) RETURNING id"
  },
  "e4b63ba146e5b836cc5fd18ebe0243e8419ec3b781052b38d4c8176364813882": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Int4",
          "Int8",
          "Varchar",
          "Int4",
          "Int4"
        ]
      }
    },
    "query": "INSERT INTO entry_versions (\n                recorded_at,\n                snapshot_id,\n\n                kind,\n                entry_id,\n                path,\n                source_id,\n                record_trigger,\n\n                size,\n                modified_at,\n                content_hash,\n                unix_mode\n            ) VALUES (\n                now(), NULL,\n                $1, $2, $3, $4, $5,\n                NULL, NULL, NULL, NULL\n            )"
  },
  "ff53321c520fe0e9ad62b4803179769db1833d3498e0ed789e7c50c599f7d575": {
    "describe": {
      "columns": [
        {
          "name": "id",
          "ordinal": 0,
          "type_info": "Int8"
        },
        {
          "name": "update_number",
          "ordinal": 1,
          "type_info": "Int8"
        },
        {
          "name": "parent_dir",
          "ordinal": 2,
          "type_info": "Int8"
        },
        {
          "name": "path",
          "ordinal": 3,
          "type_info": "Varchar"
        },
        {
          "name": "recorded_at",
          "ordinal": 4,
          "type_info": "Timestamptz"
        },
        {
          "name": "source_id",
          "ordinal": 5,
          "type_info": "Int4"
        },
        {
          "name": "record_trigger",
          "ordinal": 6,
          "type_info": "Int4"
        },
        {
          "name": "kind",
          "ordinal": 7,
          "type_info": "Int4"
        },
        {
          "name": "size",
          "ordinal": 8,
          "type_info": "Int8"
        },
        {
          "name": "modified_at",
          "ordinal": 9,
          "type_info": "Timestamptz"
        },
        {
          "name": "content_hash",
          "ordinal": 10,
          "type_info": "Bytea"
        },
        {
          "name": "unix_mode",
          "ordinal": 11,
          "type_info": "Int8"
        }
      ],
      "nullable": [
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        true,
        true,
        true,
        true
      ],
      "parameters": {
        "Left": [
          "Int8"
        ]
      }
    },
    "query": "SELECT * FROM entries WHERE update_number > $1"
  }
}